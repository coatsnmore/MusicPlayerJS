/*! musicPlayer 2015-02-08 */
"use strict";var MusicPlayer=function(){function a(a){for(var b=[],d=3,e=a.split(",");e.length>0&&e.length%d==0;)c("songArray: "+e),b.push(e.splice(0,d)),c("songArray after splice: "+e),c("newSong: "+e);return c("newSong: "+b),b}function b(a,b,d){c("note: "+a),c("interval: "+b),c("seconds: "+d),i.play(a,b,d)}function c(a){console&&k&&a&&console.log(a)}function d(a){k=a}var e=[["C",4,1],["A",4,1],["B",4,1],["E",4,1]],f=[["G",3,2],null,["D",3,2],null],g=[{label:"Default Melody",value:e},{label:"Default Rhythm",value:f}],h="piano",i=Synth.createInstrument(h),j=[{label:"Piano",value:"piano"},{label:"Acoustic",value:"acoustic"},{label:"Organ",value:"organ"},{label:"Electronic Dance Music",value:"edm"}],k=!1,l=60,m=f,n=0,o=function(){c("song: "+m);var a=m[n];a&&b(a[0],a[1],a[2]),n++,n>=m.length&&(n=0)},p=function(){c("player gonna play"),this._playing=setInterval(o,l/60*1e3)},q=function(){c("player stop"),window.clearInterval(this._playing)},r=function(a){c("new instrument: "+a),i=Synth.createInstrument(a)},s=function(b){m=a(b)},t=function(a){m=a};return{play:p,stop:q,instrumentOptions:j,switchInstrument:r,setDebug:d,changeSong:s,builtInSongs:g,defaultRhythm:f,defaultInstrument:h,defaultMelody:e,load:t}};